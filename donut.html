<DOCTYPE html>
<html>
	<head>
	 <link rel="stylesheet" type="text/css" href="style_donut.css">
	 <script src="jquery-1.11.0.js"></script>
	</head>
	<body>

		<h2>Welcome to Top Pot Doughnuts!</h2>
		<p id = "par1">Top Pot Doughnuts invites you to join us on our delicious journey of good taste. From our uniquely designed cafes to our coffee and hand-forged gourmet doughnuts, we are committed to doing things the old fashioned way beautifully, warmly, and with unfailing attention to details.</p>

<p>Our exceptional quality, vintage aesthetic, and personal customer service offers a fresh take on the old coffee and doughnuts routine. We thank you for stopping by. </p>
		
	
		<script type = "text/javascript">

		$(document).ready(function() {
			$('body').append("<button id = 'location'>Show all locations</button><br/>")
		})

	 $('location').hover(function() {               
          $(this).addClass('highlight');  
          }, function() {  
          $(this).removeClass('highlight');  
   		});  
	 	var locationsShowed = false;
		$(document).ready(function() {
			$("#location").click(function(){
				if(!locationsShowed) {
					var list  = new DonutMaster(allShops);
	      		  	for (var getList=0; getList<list.masterList.length; getList++) {
	      		  		var shop = list.masterList[getList];
	      		  		var location = shop.location;
	      		  		var newButton = $('<button class = "shop">'+location+'</button><br/>');
	      		  		var donutsPerHour = shop.getDonutsPerHour();
	      		  		var donutsPerDay = shop.getDonutsPerDay();
	      		  		(function(location, donutsPerHour, donutsPerDay){
		      		  		newButton.click(function(){
		      		  			alert(location + ": per hour: " + donutsPerHour + "per day: " + donutsPerDay);
		      		  		});
		      		  	})(location, donutsPerHour, donutsPerDay);
	      		  		$('body').append(newButton);	      		  	
	      		  	}
	      		  	locationsShowed = true;	
				}
  		  });
		});
         



	
		function DonutMaster (allShops) {
	
   
			this.masterList = [];
			for (var i=0; i<allShops.length; i++) {
				this.masterList.push(allShops[i]);
			}
	

	
			this.addShop = function (location, min, max, avg_donuts, hours) { 
				var add = new DonutShop(location, min, max, avg_donuts, hours);
		        this.masterList.push(add);
		    };
	

	
			this.generateReport = function() {
				for (var i=0; i<this.masterList.length; i++) {
					console.log("Location: " + this.masterList[i].location + " Donuts per hour: " + this.masterList[i].getDonutsPerHour() + " Donuts per day: " +this.masterList[i].getDonutsPerDay());
				}
			};
				
		}
	
		
	
			function DonutShop (location, min, max, avg_donuts, hours) {
				this.location =location;
				this.hours = hours;
				this.min = min;
				this.max = max;
				this.avg_donuts = avg_donuts;
			 
			 // Calculate the amount of costumers per hour
	
				this.getRandomCostumer = function() {
					return Math.floor(Math.random() * ((this.max + 1) - this.min) +
					this.min);
				};
	
			//Calculate the purchased donuts per hour
				this.getDonutsPerHour = function() {
					return Math.floor(this.getRandomCostumer()*this.avg_donuts);
				};
	
			//Calculate the purchased donuts per day
				this.getDonutsPerDay = function (){
					return this.getDonutsPerHour()*this.hours;
				};	
			}
	
		//Creating of donutShops
	
		
			var downtown = new DonutShop("Downtown", 4.5, 8, 43, 12);
			var capitolHill = new DonutShop("Capitol Hill", 2,  4, 37, 10); 
			var southLake = new DonutShop("South Lake Union", 6.33, 9, 23, 11);
			var wedgewood = new DonutShop("Wedgewood", 1.25, 2, 28, 9);
			var ballard = new DonutShop ("Ballard", 3.75, 8, 58, 10);
			
			var allShops = [downtown, capitolHill, southLake, wedgewood, ballard]
		</script>
	</body>
</html>
